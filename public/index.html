<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MovieBuster API</title>
    <link rel="stylesheet" href="./styles.css">
</head>
<body>
    <header>
        <div class="logo">Movie<span>Buster</span></div>
    </header>
    <div class="bar">
        <p>Welcome to the Movie API</p>
    </div>
    <div class="container">
        <h2>Base URL</h2>
        <code>http://localhost:5000/api</code>

        <h2>Movies Routes</h2>
        <div class="route-section">
            <h3>Get All Movies</h3>
            <code>GET /movies</code>
            <p>Returns a list of all movies with their basic information.</p>
            <div class="response-example">
                <h4>Example Response:</h4>
                <code>
                {
                    [
                        {
                            "id": 1,
                            "title": "The Matrix",
                            "release_year": 1999,
                            "genre": "Sci-Fi"
                        },
                        ...
                    ]
                }</code>
            </div>
        </div>

        <div class="route-section">
            <h3>Search Movies</h3>
            <code>GET /movies/search</code>
            <p>Search movies using various parameters.</p>
            <h4>Query Parameters:</h4>
            <table>
                <tr>
                    <th>Parameter</th>
                    <th>Type</th>
                    <th>Description</th>
                </tr>
                <tr>
                    <td>id</td>
                    <td>number</td>
                    <td>Filter by movie ID</td>
                </tr>
                <tr>
                    <td>search</td>
                    <td>string</td>
                    <td>Search by movie title</td>
                </tr>
                <tr>
                    <td>release_year</td>
                    <td>number</td>
                    <td>Filter by release year</td>
                </tr>
                <tr>
                    <td>genre</td>
                    <td>string</td>
                    <td>Filter by genre</td>
                </tr>
            </table>
        </div>

        <h2>Directors Routes</h2>

        <div class="route-section">
            <h3>Get All Directors</h3>
            <code>GET /directors</code>
            <p>Returns a list of all directors with their basic information.</p>
            <div class="response-example">
                <h4>Example Response:</h4>
                <code>
                {
                    [
                        {
                            "id": 1,
                            "name": "Christopher Nolan",
                            "birthdate": "1970-07-30"
                        },
                        ...
                    ]
                }</code>
            </div>
        </div>

        <div class="route-section">
            <h3>Search Directors</h3>
            <code>GET /directors/search</code>
            <p>Search directors using various parameters.</p>
            <h4>Query Parameters:</h4>
            <table>
                <tr>
                    <th>Parameter</th>
                    <th>Type</th>
                    <th>Description</th>
                </tr>
                <tr>
                    <td>id</td>
                    <td>number</td>
                    <td>Filter by director ID</td>
                </tr>
                <tr>
                    <td>name</td>
                    <td>string</td>
                    <td>Search by director name</td>
                </tr>
                <tr>
                    <td>birthyear</td>
                    <td>number</td>
                    <td>Filter by birth year</td>
                </tr>
            </table>
        </div>

        <div class="route-section">
            <h3>Get Director's Movies</h3>
            <code>GET /directors/:directorId/movies</code>
            <p>Returns all movies by a specific director.</p>
            <div class="response-example">
                <h4>Example Response:</h4>
                <code>
{
    "success": true,
    "data": {
        "director": {
            "id": 1,
            "name": "Christopher Nolan",
            "birthdate": "1970-07-30"
        },
        "movies": [
            {
                "id": 1,
                "title": "Inception",
                "release_year": 2010,
                "genre": "Sci-Fi"
            },
            ...
        ]
    }
}</code>
            </div>
        </div>

        <h2>Admin Routes</h2>
        <div class="route-section">
            <h3>Add Movie (Admin Only)</h3>
            <code>GET /add/movie/:title/:year/:genre/:token</code>
            <p>Adds a new movie to the database. Requires admin token.</p>
        </div>

        <div class="route-section">
            <h3>Delete Movie (Admin Only)</h3>
            <code>DELETE /delete/movie/:id/:token</code>
            <p>Deletes a movie from the database. Requires admin token.</p>
        </div>

        <h2>Error Responses</h2>
        <table>
            <tr>
                <th>Status Code</th>
                <th>Description</th>
            </tr>
            <tr>
                <td>200</td>
                <td>Success</td>
            </tr>
            <tr>
                <td>403</td>
                <td>Unauthorized (invalid admin token)</td>
            </tr>
            <tr>
                <td>404</td>
                <td>Resource not found</td>
            </tr>
            <tr>
                <td>500</td>
                <td>Server error</td>
            </tr>
        </table>
    </div>
    <footer>
        <p>&copy; Nico Diaz 2024</p>
    </footer>
</body>
</html>